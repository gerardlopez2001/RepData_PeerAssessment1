---
title: "Reproducible Research: Peer Assessment 1"
author: "Gerard Lopez"
date: "Sunday, November 16, 2014"
output: 
  html_document:
    keep_md: true
---


```{r setoptions, echo=TRUE}
opts_chunk$set(echo=FALSE)
```

## Loading and preprocessing the data
```{r}
library("lattice")
library("lubridate")
library("ggplot2" )

rm(StepsByDay, StepsByDayMean, StepsByDayMedian, StepsByInterval, timeInterval)

unzip("activity.zip", overwrite=TRUE)
stepData <- read.csv("activity.csv", colClasses=c('integer','character', 'integer'))
stepData$timeInterval <- as.POSIXct(strptime(formatC(stepData$interval, width = 4, format="d", flag ="0"), "%H%M"))


```
## What is mean total number of steps taken per day?

```{r}
StepsByDay <- by(stepData$steps, stepData$date, FUN=sum)

hist(StepsByDay)
StepsByDayMean <- mean(StepsByDay, na.rm = TRUE)
StepsByDayMedian <- median(StepsByDay, na.rm = TRUE)

```


## What is the average daily activity pattern?

```{r}

StepsByInterval<- aggregate(stepData$steps, list(Interval=stepData$timeInterval), mean, na.rm= TRUE)

#set x limits
beginning <- format(as.POSIXct(paste(Sys.Date(),"00:00")), format="%Y-%m-%d %H:%M")
ending <- format((as.POSIXct(paste(Sys.Date(),"00:00")) + 24*60*60), format="%Y-%m-%d %H:%M")

xyplot( x ~ Interval, data=StepsByInterval, type = "l"
        , xlab = "Time", ylab = "Average # of Steps"
        , xlim=c(as.POSIXct(beginning),as.POSIXct(ending))
        , ylim=c(0,225)
        , scales = list(tck=c(1,0),
                        x=list(tick.number = 24, cex=0.8, rot=90, format="%H:%M"),
                        y=list(tick.number = 5))
        , main = "Average Number of Steps During 5 Minute Intervals Over 24 Hours"
        )

```


## Imputing missing values

```{r}

```



## Are there differences in activity patterns between weekdays and weekends?

```{r}

```

